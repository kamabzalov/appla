<ng-container *ngIf="categories; else productTmpl">
  <owl-carousel-o [options]="customOptions">
    <ng-container *ngFor="let category of categories">
      <ng-template carouselSlide>
        <button
          (click)="categoryClick(category.slug)"
          class="button text-left preview-card__button"
          type="button">
          <img
            [alt]="category.name"
            [src]="
              'https://storage.googleapis.com/images-appla/production/thumbs_150/' +
              category.picture
            "
            applaErrorImage
            class="preview-card__image" />
          <div>
            <p class="m-b-4px preview-card__name">{{ category.name }}</p>
            <p class="m-b-0px">{{ category._cnt }} (items)</p>
          </div>
        </button>
      </ng-template>
    </ng-container>
  </owl-carousel-o>
</ng-container>

<ng-template #productTmpl>
  <button
    (click)="goToProduct(product)"
    class="button text-left preview-card__button"
    type="button">
    <img
      [alt]="product.name"
      [src]="
        'https://storage.googleapis.com/images-appla/production/thumbs_150/' +
        product.picture
      "
      applaErrorImage
      class="preview-card__image" />
    <div class="preview-card__product">
      <p class="m-b-4px preview-card__name">
        {{ product.name }}
      </p>
      <p class="preview-card__price m-b-4px">
        {{ product.price_min | currency }}
      </p>
    </div>
    <p class="m-b-4px">Category: {{ product.cat_name }}</p>
    <p class="m-b-0px">Brand: {{ product.manufacturer }}</p>
  </button>
</ng-template>
